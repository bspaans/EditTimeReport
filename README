Edit Time Report [Think of better name later]
---------------------------------------------

  This is a tool that enables you to make detailed time reports of the work 
  you have done in the past. It is mostly aimed at programmers who use a 
  scriptable editor (eg. vim, emacs,..), since these programs allow you to 
  log when you have edited a file.

  The premise:

  1. Scriptable editors contact a permanently running daemon on each 
     save/close/whatever.

  2. The daemon adds timestamps to these actions and writes them to a 
     flat plain text file.

  3. A separate tool generates reports from the logs (in plain text, 
     html,..)

  4. You will be able to answer questions like:

	 * How many hours did I spent working on a language/project/file?
	 * What language have I used the most this year?
	 * What's my most productive day of the week?
	 * How much time did I work on year/month/week/day?
	 * ..and on which project or language?


Current status » Daemon
-----------------------

  The daemon was written in Python using the Twisted networking library. 
  It logs to a flat plain text file in the following format:

   2009 12 29 10 39 23 1 363 EDIT /home/bspaans/src/file.hs
   YEAR MONTH DAY HOUR MIN SEC DOW DOY COMMAND FILE

  where DOW and DOY resp. stand for the day of the week and year, 
  and where COMMAND is one of EDIT, START or STOP. 

  The program can be found in the daemon/ directory under the name 
  `timechartd' and uses the basicliser library to do most of its 
  heavy lifting.


Current status » Client
-----------------------

  The client is a simple bash script that reads a username and password 
  from a file and contacts the daemon. The edit message can be set using 
  command line arguments. You can find the client in the daemon/ 
  directory. It's called `timechart' at the moment, but this may change


Current status » Generating Reports
-----------------------------------

  The reporting program is still under heavy development. It is written in 
  Haskell and only makes use of the libraries in the Haskell Platform; 
  no other packages are needed. It can currently parse the log file, 
  do some analysis (like project and language classification) and produce 
  HTML and plain text pages in tabular format. It also has a simple DSL 
  comparable to SQL (but much, much simpler) to query the data,  
  which can help you make your own reports. See Query.hs for a description 
  of the grammar and some usage examples.


Current status » Building
-------------------------

  Running the daemon and client is already possible (I have been doing so 
  since begin December), but the graphing functionality is still a bit 
  lacking. If you don't mind that or if you are up to writing your 
  own report generators, then these are the instructions to get you 
  going: 


Installing the Daemon and Client
--------------------------------

  Install the daemon and client by going into the daemon/ 
  directory and doing a: 


      sudo python setup.py install


  This will only work if you already have the Twisted library installed, 
  which is probably well known enough to be packaged by your distribution 
  already.

  If all has gone right, the daemon, client and basicliser library will 
  now all be installed. Next, you need to make sure the daemon is started 
  when you login. There are several ways to do this, some dependent of 
  window managers, but that should be easy enough to find out. 

  The command to be started on login should read like this:


      timechartd /path/to/config/directory/


  The path will be used to store the log file and the user database, 
  so make sure it's writable. 

  Now the only thing that remains is to set up your editor hooks.
  I have been using the following for vim to give you an idea:


      " chart functionality
      autocmd VimEnter * :silent ! timechart -s
      autocmd VimLeave * :silent ! timechart -e
      autocmd BufNewFile * :silent ! timechart -n <afile>:p
      autocmd BufWritePost * :silent ! timechart -w <afile>:p


  That's it!


Installing the Reporting Tool
-----------------------------

  As said, this program is not finished yet, but if you want to have a 
  look at its current (pre-alpha) state, you can compile it using 
  cabal:

    cabal install

  Or, alternatively, using ghc directly:

    ghc --make Main.hs 

  To get into an interactive session where you can query the log 
  file, use:

    report chart.log

  See Query.hs for a description of the grammar and some usage examples.
  To produce a HTML report of the log file, you can then run:

    report chart.log log.html

  (Command line arguments will be implemented shortly)
